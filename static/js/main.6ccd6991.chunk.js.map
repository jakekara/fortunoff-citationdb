{"version":3,"sources":["Search/index.js","ToggleButton/index.js","Data/dictToArray.js","Data/BasicAPIEndpoint.js","Data/publication.js","Data/footnote.js","Data/resource.js","Data/author.js","Data/index.js","ResultList/ResultListItem/index.js","ResultList/index.js","HomePage/index.js","FootnoteList/index.js","PublicationPage/index.js","ErrorPages/Page404.js","PublicationList/index.js","ResourcePage/index.js","AuthorPage/index.js","App.js","serviceWorker.js","index.js"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateTerm","bind","assertThisInitialized","e","handleChange","target","value","react_default","a","createElement","className","onChange","type","placeholder","React","Component","ToggleButton","onClick","handleClick","concat","label","status","dictToArray","obj","keyField","arguments","length","undefined","keys","map","key","ret","objectSpread","BasicAPIEndpoint","resourceDictionary","resourceArray","all","dictionary","byId","filter","find","id","f","matches","Error","publication","PublicationAPIEndPoint","byAuthor","authorId","x","require","footnote","FootnoteAPIEndpoint","byPublication","publicationId","resourceId","_this2","forEach","resource","ResourceAPIEndpoint","citedByAuthor","inFootnotes","footnotes","loaded","indexOf","push","Data_author","Data","author","search","options","toggles","searchTerm","results","searchEntity","entity","field","api","matchedEntities","toLowerCase","__header","__type","HeaderLink","term","react_router_dom","to","item","header","ItemHeader","ResultListItem_HeaderLink","FootnoteFooter","AuthorFooter","ResourceFooter","byResource","PublicationFooter","name","date","publisher","Footer","ResultListItem_AuthorFooter","ResultListItem_PublicationFooter","ResultListItem_ResourceFooter","ResultListItem_FootnoteFooter","ResultListItem","ResultListItem_ItemHeader","ResultListItem_Footer","ResultList","items","sort","b","i","ResultListItem_ResultListItem","HomePage","state","toggleFactory","setSearchTerm","console","log","setState","newState","Search_Search","ToggleButton_ToggleButton","ResultList_ResultList","FootnoteList","number","href","uri","title","PublicationPage","match","params","FootnoteList_FootnoteList","Page404","location","publications","r","App","react_router","exact","path","render","HomePage_HomePage","component","Boolean","window","hostname","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6ccd6991.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class Search extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.updateTerm = this.updateTerm.bind(this);\n\n    }\n\n    updateTerm(e){\n        this.props.handleChange(e.target.value)\n    }\n\n    render(){\n        return (\n        <div className=\"Search\">\n            <input \n            onChange={this.updateTerm}\n            type=\"text\" \n            placeholder=\"Search...\"></input>\n        </div>\n        )\n    }\n}","import React from 'react';\nimport \"./style/main.scss\"\n\nexport default class ToggleButton extends React.Component {\n    \n    render(){\n        return (\n        <div\n        onClick={this.props.handleClick} \n        className={`ToggleButton ${this.props.label} ${this.props.status ? \"on\" : \"off\"}`}>\n            {this.props.label}\n        </div>\n        )\n    }\n}","export default function(obj, keyField=\"id\"){\n\n    return Object.keys(obj).map( key => {\n\n        let ret = {\n            ...obj[key],\n        }\n\n        ret[keyField] = key;\n\n        return ret;\n    });\n}","import dictToArray from \"./dictToArray\";\n\nexport default class BasicAPIEndpoint{\n\n    constructor(obj){\n\n        this.resourceDictionary = obj;\n        this.resourceArray = dictToArray(obj);\n\n        this.all = this.all.bind(this);\n        this.dictionary = this.dictionary.bind(this);\n        this.byId = this.byId.bind(this);\n        this.filter = this.filter.bind(this);\n        this.find = this.find.bind(this);\n    }\n    \n    dictionary(){ \n        return this.resourceDictionary;\n    }\n\n    all(){ \n        return this.resourceArray;\n    }\n\n    byId(id){\n        return this.dictionary()[id];\n    }\n\n    filter(f){\n        return this.all().filter(f);\n    }\n\n    find(f){\n\n        const matches = this.filter(f);\n\n        if (matches.length === 1){ return matches[0]}\n\n        if (matches.length < 1){\n            throw new Error (\"Error: More than one result found matching criteria\");\n        }\n        else if (matches.length > 0){\n            throw new Error(\"Error: No results found\");\n        }\n    }\n\n}","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\n\n\nclass PublicationAPIEndPoint extends BasicAPIEndpoint {\n    constructor(props){\n        super(props);\n\n        this.byAuthor = this.byAuthor.bind(this);\n    }\n\n    byAuthor(authorId){\n        return  this.filter(x=>x[\"author.id\"] === authorId)\n    }\n\n}\n\nlet publication = new PublicationAPIEndPoint(require(\"./json/publication.json\"));\n\nexport default publication;","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\nimport publication from \"./publication\";\n\nclass FootnoteAPIEndpoint extends BasicAPIEndpoint{\n    constructor(props){\n        super(props);\n\n        this.byPublication = this.byPublication.bind(this);\n        this.byAuthor = this.byAuthor.bind(this);\n    }\n\n    byPublication(publicationId){\n        return this.filter(x => x[\"publication.id\"] === publicationId);\n    }\n\n    byResource(resourceId){\n        return this.filter(x => x[\"resource.id\"] === resourceId);\n    }\n\n    byAuthor(authorId){\n        let ret = []\n        \n        publication.byAuthor(authorId)\n            .forEach(x=> {\n                ret = ret.concat(this.byPublication(x[\"id\"]));\n            });\n            \n        return ret;\n    }\n\n}\n\nexport default new FootnoteAPIEndpoint(require(\"./json/footnote.json\"));","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\nimport publication from \"./publication\";\nimport footnote from \"./footnote\";\n\nclass ResourceAPIEndpoint extends BasicAPIEndpoint {\n    constructor(props) {\n        super(props);\n\n        this.citedByAuthor = this.citedByAuthor.bind(this);\n        this.inFootnotes = this.inFootnotes.bind(this);\n        this.byPublication = this.byPublication.bind(this);\n        this.citedByAuthor = this.citedByAuthor.bind(this);\n    }\n\n    inFootnotes(footnotes) {\n        const loaded = [];\n        return footnotes\n            .map(x => {\n                return this.byId(x[\"resource.id\"])\n            })\n            .filter(x => { // x is a footnote\n                if (!x) { return }\n                if (loaded.indexOf(x[\"title\"]) >= 0) {\n                    return false;\n                }\n                loaded.push(x[\"title\"]);\n                return true;\n            })\n    }\n\n    byPublication(publicationId) {\n        return this.inFootnotes(footnote.byPublication(publicationId));\n    }\n\n    citedByAuthor(authorId) {\n\n        return this.inFootnotes(footnote.byAuthor(authorId));\n\n    }\n\n}\nlet resource = new ResourceAPIEndpoint(require(\"./json/resource.json\"));\n\n\nexport default resource;","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\n\nexport default new BasicAPIEndpoint(require(\"./json/author.json\"));","import resource from \"./resource\";\nimport footnote from \"./footnote\";\nimport publication from \"./publication\";\nimport author from \"./author\";\n\nfunction search(options) {\n\n    options = options || {};\n    const toggles = options.toggles || {};\n    const searchTerm = options.searchTerm || \"\";\n\n    let results = [];\n\n    function searchEntity(entity, field, api) {\n\n        if (toggles[entity] !== true) { return; }\n        const matchedEntities = api.filter(x => {\n            if (!x[field]) { return false }\n            return x[field].toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n        }).map(x=>{\n            return {...x,\n                \"__header\":x[field],\n                \"__type\":entity}\n        })\n        results = results.concat(matchedEntities)\n    }\n\n    searchEntity(\"author\", \"name\", author)\n    searchEntity(\"resource\", \"title\", resource)\n    searchEntity(\"publication\", \"title\", publication)\n\n\n    return results;\n}\n\nexport default {\n    author,\n    footnote,\n    publication,\n    resource,\n    search\n}","import React from 'react';\nimport Data from \"../../Data\";\nimport { Link } from \"react-router-dom\";\n\nclass HeaderLink extends React.Component {\n\n    render(){\n        const term = this.props.type + \"s\"\n        return <Link \n            to={`/${term}/${this.props.item.id}`}\n            >{this.props.header}</Link>\n    }\n   \n}\n\nclass ItemHeader extends React.Component {\n    render() {\n        return (\n            <h3>\n                <small className=\"result-type\">[ {this.props.type} ]</small> \n                {\" \"}<HeaderLink {...this.props}></HeaderLink>\n                {\" \"}{this.props.type === \"resource\" ? <small>{this.props.item.id}</small> : (null)}\n            </h3>\n        )\n    }\n}\n\nclass FootnoteFooter extends React.Component {\n    render() {\n        return (\n            <div>\n                Footnote!!\n            </div>\n        )\n    }\n}\n\nclass AuthorFooter extends React.Component {\n    render() {\n        return (\n            <div>\n                <div>\n                {Data.publication.byAuthor(this.props.item.id).length} publications\n                </div>\n                <div>\n                {Data.resource.citedByAuthor(this.props.item.id).length} resources cited\n                </div>\n                <div>\n                {Data.footnote.byAuthor(this.props.item.id).length} footnotes\n                </div>\n            </div>\n\n        );\n    }\n}\n\nclass ResourceFooter extends React.Component {\n    render() {\n        return (\n            <div>\n                <div>\n                    {Data.footnote.byResource(this.props.item.id).length} citations\n                </div>\n            </div>\n\n        );\n    }\n}\n\nclass PublicationFooter extends React.Component {\n    render() {\n        const author = (Data.author.byId(this.props.item[\"author.id\"]) || {})\n        return (\n            <div>\n                <div>\n                    {author.name ? author.name : (null)}\n                </div>\n                <div>\n                    {Data.resource.byPublication(this.props.item.id).length} resources cited: resouce 1, resource 2, resource 3...\n                </div>\n                <div>\n                    {this.props.item.date ? this.props.item.date + \", \" : (null) }\n                    {this.props.item.publisher? this.props.item.publisher : (null)}\n                </div>\n                \n            </div>\n\n        );\n    }\n}\n\nclass Footer extends React.Component {\n    render(){\n        if (this.props.type===\"author\"){ return <AuthorFooter {...this.props}></AuthorFooter>; };\n        if (this.props.type===\"publication\"){ return <PublicationFooter {...this.props}></PublicationFooter>; };\n        if (this.props.type===\"resource\"){ return <ResourceFooter {...this.props}></ResourceFooter>; };\n        if (this.props.type===\"footnote\"){ return <FootnoteFooter {...this.props}></FootnoteFooter>; };\n        return (<div className=\"Footer\"></div>)\n    }\n}\n\nexport default class ResultListItem extends React.Component {\n    render() {\n        return (\n            <section className={`ResultListItem ${this.props.type}`}>\n                <div className=\"left-end\"></div>\n                <div className=\"content-area\">\n                <header>\n                    <ItemHeader {...this.props}></ItemHeader>\n                </header>\n                <footer>\n                    <Footer {...this.props}></Footer>\n                </footer>   \n                </div>\n            </section>\n        )\n    }\n}","import React from 'react';\nimport ResultListItem from \"./ResultListItem\";\n// import CSSTransitionGroup from 'react-transition-group/CSSTransitionGroup';\n\nimport \"./style/main.scss\";\n\nexport default class ResultList extends React.Component {\n    render() {\n        const items = this.props.items.sort(\n            (a,b)=>{ return a.__header > b.__header ? 1 : -1}\n            ).map((x, i) => {\n                return <ResultListItem \n                item={x}\n                key={i}\n                type={x.__type}\n                header={x.__header}\n                ></ResultListItem>\n        });\n        return (\n            <div className=\"ResultList\">\n                {items}\n               {/* <CSSTransitionGroup\n               transitionName=\"dialog\"\n               transitionEnterTimeout={10}\n               transitionLeaveTimeout={10}>\n                   {items}\n               </CSSTransitionGroup> */}\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Search from \"../Search\";\nimport ToggleButton from \"../ToggleButton\";\nimport ResultList from \"../ResultList\";\nimport Data from \"../Data\";\n\nexport default class HomePage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchTerm: \"\",\n            toggles: {\n                resource: true,\n                publication: true,\n                author: true\n            }\n        }\n\n        this.toggleFactory = this.toggleFactory.bind(this);\n        this.setSearchTerm = this.setSearchTerm.bind(this);\n    }\n\n    setSearchTerm(term) {\n        console.log(\"Set search term \" + term)\n        this.setState({ searchTerm: term })\n    }\n    toggleFactory(label) {\n        return () => {\n\n            let newState = {\n                ...this.state,\n                toggles: { ...this.state.toggles }\n            }\n            newState.toggles[label] = !this.state.toggles[label];\n            this.setState(newState);\n        }\n    }\n\n    render() {\n        const items = Data.search(this.state);\n        console.log(\"items\", items)\n        return (<div className=\"HomePage\">\n            <div className=\"SearchArea\">\n                <Search\n                    handleChange={this.setSearchTerm}\n                ></Search>\n                <div className=\"toggle-box\">\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"resource\")}\n                        status={this.state.toggles.resource}\n                        label=\"Resources\"></ToggleButton>\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"publication\")}\n                        status={this.state.toggles.publication}\n                        label=\"Publications\"></ToggleButton>\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"author\")}\n                        status={this.state.toggles.author}\n                        label=\"Authors\"></ToggleButton>\n                </div>\n            </div>\n            <main>\n            <ResultList\n                items={items}></ResultList>\n            </main>\n\n        </div>)\n    }\n}","import React from 'react';\nimport Data from \"../Data/index\";\n// import { Link } from \"react-router-dom\";\n\nexport default class FootnoteList extends React.Component {\n\n    render() {\n        return (\n            <div className=\"ProfileList\">\n                {(this.props.footnotes || []).map((f, i) => {\n                    const resource = Data.resource.byId(f[\"resource.id\"]);\n\n                    return (\n                        <div className=\"ProfileListItem\" key={i}>\n\n                            <h4>\n                                {f.number}{\" \"}\n                                <a href={f.uri}>\n                                    {resource.title}\n                                    {\" \"}\n                                    <small>[{f[\"resource.id\"]}]\n                                    {\" \"}\n                                        {f[\"start_time\"] ? `@${f[\"start_time\"]}` : (null)}\n                                    </small>\n                                </a>\n\n                            </h4>\n                            {f[\"text\"] ? <div>{f[\"text\"]}</div> : (null)}\n                        </div>)\n                })}\n            </div>\n        );\n    }\n\n}\n","import React from 'react';\n// import ResultList from \"../ResultList\";\nimport Data from \"../Data\";\nimport FootnoteList from \"../FootnoteList\";\n\nexport default class PublicationPage extends React.Component {\n\n\n    render() {\n\n        const id = this.props.match.params.id,\n            item = Data.publication.byId(id),\n            author = Data.author.byId(item[\"author.id\"]),\n            footnotes = Data.footnote.byPublication(id);\n\n        return (\n            <div className=\"PublicationPage\">\n                <section>\n                    <h1>{item.title}</h1>\n                    <div>\n                        Author: {author.name}\n                    </div>\n                </section>\n\n\n                <section>\n                    <FootnoteList footnotes={footnotes}></FootnoteList>\n                </section>\n            </div>\n\n        )\n    }\n}","import React from 'react';\nexport default function (location) {\n    return (\n        <div>\n            <h2>No match found for '{location}'</h2>\n        </div>\n    );\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class FootnoteList extends React.Component {\n\n    render(){\n        return (\n            <div className=\"PublicationList\">\n                {(this.props.publications||[]).map((r,i) => {   \n                    \n                    return <div key={i}>\n                        <Link to={`/publications/${r.id}`}>\n                            {r.title} :: {r.publisher} :: {r.date}\n                        </Link>\n                            \n                    </div>\n                })}\n            </div>\n        );\n    }\n\n}\n","import React from 'react';\nimport Data from \"../Data/index\";\nimport { Page404 } from  \"../ErrorPages/index\";\n\nimport FootnoteList from \"../FootnoteList\";\n\nexport default class ResourcePage extends React.Component {\n\n    render(){\n        const id = this.props.match.params.id;\n        const r = Data.resource.dictionary()[id];\n\n        if (!r){\n\n            return Page404(this.props.location.pathname);\n        }\n\n        const footnotes = Data.footnote.filter(item => item[\"resource.id\"] === id);\n\n        return (\n            <div className=\"ResourcePage\">\n                <h1>{r.title}</h1>\n                <FootnoteList footnotes={footnotes} />\n                \n            </div>\n        );\n    }\n\n}\n","import React from 'react';\nimport Data from \"../Data/index\";\nimport { Page404 } from  \"../ErrorPages/index\";\nimport PublicationList from \"../PublicationList\";\n\nexport default class ResourcePage extends React.Component {\n\n    render(){\n        const id = this.props.match.params.id;\n        const r = Data.author.dictionary()[id];\n        const publications = Data.publication.filter(item => item[\"author.id\"] === id);\n\n        if (!r){\n            return Page404(this.props.location.pathname);\n        }\n\n        return (\n            <div className=\"ResourcePage\">\n                <h1>{r.name}</h1>\n                <PublicationList publications={publications} />\n                \n            </div>\n        );\n    }\n\n}\n","import React from 'react';\nimport HomePage from \"./HomePage\";\nimport PublicationPage from \"./PublicationPage\";\n// import ResourceList from \"./ResourceList\";\n// import FootnoteList from \"./FootnoteList\";\n// import AuthorList from \"./AuthorList\";\n// import PublicationList from \"./PublicationList\";\n\nimport ResourcePage from \"./ResourcePage\";\nimport AuthorPage from \"./AuthorPage\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { resource, footnote, author, publication } from \"./Data/index\";\n\nimport \"./App.scss\";\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <Router>\n\n        <header>\n\n          <h1>\n            <Link to=\"/\">Citation Database</Link>\n          </h1>\n\n        </header>\n\n\n        <Route exact path=\"/\" render={() => <HomePage />} />\n        {/* <Route exact path=\"/resources\" render={() => <ResourceList resources={resource.all()} />} />\n        <Route exact path=\"/publications\" render={() => <PublicationList publications={publication.all()} />} />\n        <Route exact path=\"/authors\" render={() => <AuthorList authors={author.all()} />} />\n        <Route exact path=\"/footnotes\" render={() => <FootnoteList footnotes={footnote.all()} />} />\n        */}\n        <Route path=\"/publications/:id\" component={PublicationPage} />\n        {/* <Route path=\"/resources/:id\" component={ResourcePage} />\n        <Route path=\"/authors/:id\" component={AuthorPage} /> */}\n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}