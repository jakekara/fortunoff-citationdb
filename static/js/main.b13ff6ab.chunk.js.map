{"version":3,"sources":["Search/index.js","ToggleButton/index.js","Data/dictToArray.js","Data/BasicAPIEndpoint.js","Data/utils/uniqueArray.js","Data/publication.js","Data/enums.js","Data/footnote.js","Data/resource.js","Data/author.js","Data/utils/FussyArray.js","Data/index.js","ResultList/ResultListItem/index.js","ResultList/index.js","HomePage/index.js","PublicationPage/index.js","ResourcePage/index.js","ErrorPages/Page404.js","AuthorPage/index.js","App.js","serviceWorker.js","index.js"],"names":["Search","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","updateTerm","bind","assertThisInitialized","e","handleChange","target","value","react_default","a","createElement","className","onChange","type","placeholder","React","Component","ToggleButton","onClick","handleClick","concat","label","status","dictToArray","obj","keyField","arguments","length","undefined","keys","map","key","ret","objectSpread","BasicAPIEndpoint","headerKey","x","typeKey","forEach","k","o","resourceDictionary","resourceArray","all","dictionary","byId","filter","find","id","assign","f","matches","Error","uniqueArray","arr","loaded","kx","indexOf","push","Data_publication","PublicationAPIEndPoint","_","byAuthor","inFootnotes","byResource","authorId","footnotes","_this2","resourceId","footnote","require","entity","publication","author","resource","FootnoteAPIEndpoint","byPublication","publicationId","Data_resource","ResourceAPIEndpoint","citedByAuthor","Data_author","FussyArray","_getPrototypeOf2","_len","items","Array","_key","apply","dict","ks","add","addArray","String","keyFunc","i","Data","search","options","toggles","searchTerm","results","searchEntity","field","api","fofx","trim","toLowerCase","name","PillTray","title","slice","item","react_router_dom","to","link","HeaderLink","term","header","ItemHeader","ResultListItem_HeaderLink","FootnoteFooter","text","AuthorFooter","publications","resources","ResultListItem_PillTray","ResourceFooter","PublicationFooter","date","publisher","Footer","ResultListItem_AuthorFooter","ResultListItem_PublicationFooter","ResultListItem_ResourceFooter","ResultListItem_FootnoteFooter","ResultListItem","ResultListItem_ItemHeader","ResultListItem_Footer","href","uri","ResultList","state","itemCount","step","loadMore","trackScrolling","distanceFromBottom","scrollBottom","window","pageYOffset","innerHeight","document","body","offsetHeight","decideToIncrement","addEventListener","removeEventListener","setState","sort","b","__header","ResultListItem_ResultListItem","__type","HomePage","toggleFactory","setSearchTerm","newState","Search_Search","ToggleButton_ToggleButton","ResultList_ResultList","PublicationPage","match","params","ResourcePage","location","r","pathname","AuthorPage","App","basename","react_router","exact","path","render","HomePage_HomePage","component","Boolean","hostname","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b13ff6ab.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class Search extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.updateTerm = this.updateTerm.bind(this);\n\n    }\n\n    updateTerm(e){\n        this.props.handleChange(e.target.value)\n    }\n\n    render(){\n        return (\n        <div className=\"Search\">\n            <input \n            onChange={this.updateTerm}\n            type=\"text\" \n            placeholder=\"Search...\"></input>\n        </div>\n        )\n    }\n}","import React from 'react';\nimport \"./style/main.scss\"\n\nexport default class ToggleButton extends React.Component {\n    \n    render(){\n        return (\n        <div\n        onClick={this.props.handleClick} \n        className={`ToggleButton ${this.props.label} ${this.props.status ? \"on\" : \"off\"}`}>\n            {this.props.label}\n        </div>\n        )\n    }\n}","export default function(obj, keyField=\"id\"){\n\n    return Object.keys(obj).map( key => {\n\n        let ret = {\n            ...obj[key],\n        }\n\n        ret[keyField] = key;\n\n        return ret;\n    });\n}","import dictToArray from \"./dictToArray\";\n\nexport default class BasicAPIEndpoint{\n\n    /**\n     * @constructor\n     * @alias Data.BasicAPIEndpoint\n     * @param {Object} obj \n     */\n    constructor(obj, headerKey=x=>{}, typeKey=x=>{}){\n\n        // insert a a\n        Object.keys(obj).forEach(k=>{\n            let o = obj[k];\n            o[\"id\"] = k\n            o[\"__header\"] = headerKey(o);\n            o[\"__type\"] = typeKey(o);\n        });\n\n        this.resourceDictionary = obj;\n        this.resourceArray = dictToArray(obj);\n\n        this.all = this.all.bind(this);\n        this.dictionary = this.dictionary.bind(this);\n        this.byId = this.byId.bind(this);\n        this.filter = this.filter.bind(this);\n        this.find = this.find.bind(this);\n    }\n    \n    /**\n     * Get a dictionary index of all items\n     * @memberof Data.BasicAPIEndpoint\n     */\n    dictionary(){ \n        return this.resourceDictionary;\n    }\n\n    /**\n     * Get an array of all items\n     * @memberof Data.BasicAPIEndpoint\n     */\n    all(){ \n        return this.resourceArray;\n    }\n\n    /**\n     * Find one item by id or undefined\n     * @param {string} id \n     * @memberof Data.BasicAPIEndpoint\n     */\n    byId(id, keyField=\"id\"){\n        let ret = Object.assign({}, this.dictionary()[id]);\n        \n        // insert the id \n        ret[keyField] = id;\n        return ret;\n    }\n\n    /**\n     * Get an array of all items i for which f(i) returns True\n     * @param {function} f \n     * @memberof Data.BasicAPIEndpoint\n     */\n    filter(f){\n        return this.all().filter(f);\n    }\n\n    /**\n     * Get item that matches f(i) if only one item matches f(i). Fail if multiple items return true\n     * @param {function} f \n     * @memberof Data.BasicAPIEndpoint\n     */\n    find(f){\n\n        const matches = this.filter(f);\n\n        if (matches.length === 1){ return matches[0]}\n\n        if (matches.length < 1){\n            throw new Error (\"Error: More than one result found matching criteria\");\n        }\n        else if (matches.length > 0){\n            throw new Error(\"Error: No results found\");\n        }\n    }\n\n}","export default function (arr, key=x=>x) {\n    const loaded = [];\n    const ret =  arr\n        .filter(x => { // x is a footnote\n            const kx = key(x)\n            if (!x) { return }\n            if (loaded.indexOf(kx) >= 0) {\n                return false;\n            }\n            loaded.push(kx);\n            return true;\n        });\n    return ret;\n}         ","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\nimport footnote from \"./footnote\";\n// import resource from \"./resource\";\nimport uniqueArray from \"./utils/uniqueArray\";\n\n/** \n * Adds a byAuthor search convenience method\n * @class Data.PublicationAPIEndpoint\n * @extends Data.BasicAPIEndpoint\n */\nclass PublicationAPIEndPoint extends BasicAPIEndpoint {\n\n    /**\n     * @constructor\n     * @alias Data.PublicationAPIEndpoint\n     * @param {Object} props \n     */\n    constructor(props){\n        super(props, x=>x[\"title\"], _=>\"publication\");\n\n        this.byAuthor = this.byAuthor.bind(this);\n        this.inFootnotes = this.inFootnotes.bind(this);\n        this.byResource = this.byResource.bind(this)\n    }\n\n    /**\n     * Get publications by a given author\n     * @param {string} authorId \n     * @returns {Array}\n     * @method Data.PublicationAPIEndpoint#byAuthor\n     */\n    byAuthor(authorId){\n        return  this.filter(x=>x[\"author.id\"] === authorId)\n    }\n\n    \n    inFootnotes(footnotes){\n        return uniqueArray(\n            footnotes.map(x => this.byId(x[\"publication.id\"]))\n        )\n    }\n\n    /**\n     * Get publications that cite a given resource\n     */\n    byResource(resourceId){\n        return this.inFootnotes(footnote.byResource(resourceId))\n\n        // let ret = [];\n        // footnotes.forEach(f => {\n        //     if (ret.indexOf(f) >= 0){ return }\n        //     ret.push(f)\n        // })\n        // return ret;\n    }\n\n}\n\n/**\n * @memberof module:Data\n * @alias publication\n * @type {Data.PublicationAPIEndpoint}\n */\nexport default new PublicationAPIEndPoint(require(\"./json/publication.json\"));","// entity types\n\nconst entity = {\n    publication: \"publication\",\n    author: \"author\",\n    footnote: \"footnote\",\n    resource: \"resource\"\n};\n\nexport default entity;","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\nimport publication from \"./publication\";\nimport entity from \"./enums\";\n\n/**\n * @class Data.FootnoteAPIEndpoint\n * @extends Data.BasicAPIEndpoint\n */\nclass FootnoteAPIEndpoint extends BasicAPIEndpoint{\n    constructor(props){\n        super(props, x=>publication.byId(x[\"publication.id\"]), _=>entity.footnote);\n        this.byPublication = this.byPublication.bind(this);\n        this.byAuthor = this.byAuthor.bind(this);\n    }\n\n    /**\n     * Get a list of footnotes for a given publication\n     * @returns {Array}\n     * @param {string} publicationId \n     */\n    byPublication(publicationId){\n        return this.filter(x => x[\"publication.id\"] === publicationId);\n    }\n\n    /**\n     * Get a list of footnotes for a given resource\n     * @param {string} resourceId \n     * @returns {Array}\n     */\n    byResource(resourceId){\n        return this.filter(x => x[\"resource.id\"] === resourceId);\n    }\n\n    /**\n     * Get all of an author's footnotes\n     * @param {string} authorId \n     * @returns {Array}\n     */\n    byAuthor(authorId){\n        let ret = []\n        \n        publication.byAuthor(authorId)\n            .forEach(x=> {\n                ret = ret.concat(this.byPublication(x[\"id\"]));\n            });\n            \n        return ret;\n    }\n\n}\n\n/**\n * @memberof module:Data\n * @alias footnote\n * @type {Data.FootnoteAPIEndpoint}\n */\nexport default new FootnoteAPIEndpoint(require(\"./json/footnote.json\"));","import BasicAPIEndpoint from \"./BasicAPIEndpoint\";\n// import publication from \"./publication\";\nimport footnote from \"./footnote\";\nimport uniqueArray from \"./utils/uniqueArray\";\n\n/**\n * Adds conveninece functions for resources\n * @class Data.ResourceAPIEndpoint\n * @extends Data.BasicAPIEndpoint\n */\nclass ResourceAPIEndpoint extends BasicAPIEndpoint {\n    constructor(props) {\n        super(props, x=>x[\"title\"], _=>\"resource\");\n\n        this.citedByAuthor = this.citedByAuthor.bind(this);\n        this.inFootnotes = this.inFootnotes.bind(this);\n        this.byPublication = this.byPublication.bind(this);\n        this.citedByAuthor = this.citedByAuthor.bind(this);\n    }\n\n    /**\n     * Get all of the resources referenced in a given collection of footnotes\n     * @param {Array} footnotes \n     */\n    inFootnotes(footnotes) {\n\n        return uniqueArray(\n            footnotes\n            .map(x => {\n                return this.byId(x[\"resource.id\"])\n            })\n        )\n        // const loaded = [];\n        // return footnotes\n        //     .map(x => {\n        //         return this.byId(x[\"resource.id\"])\n        //     })\n        //     .filter(x => { // x is a footnote\n        //         if (!x) { return }\n        //         if (loaded.indexOf(x[\"title\"]) >= 0) {\n        //             return false;\n        //         }\n        //         loaded.push(x[\"title\"]);\n        //         return true;\n        //     })\n    }\n\n    /**\n     * Return all of the resources in a given publication\n     * @param {string} publicationId \n     */\n    byPublication(publicationId) {\n        return this.inFootnotes(footnote.byPublication(publicationId));\n    }\n\n    /**\n     * Return all of the resources cited by an author\n     * @param {string} authorId \n     */\n    citedByAuthor(authorId) {\n\n        return this.inFootnotes(footnote.byAuthor(authorId));\n\n    }\n\n}\n/**\n * @memberof module:Data\n * @alias resource\n * @type {Data.ResourceAPIEndpoint}\n */\nexport default new ResourceAPIEndpoint(require(\"./json/resource.json\"));","\nimport BasicAPIEndpoint from \"./BasicAPIEndpoint\";\nimport entity from \"./enums\";\n\n/**\n * @memberof module:Data\n * @alias author\n * @type {Data.BasicAPIEndpoint}\n */\nexport default new BasicAPIEndpoint(require(\"./json/author.json\"), x=>x[\"name\"], x=>entity.author);","export default class FussyArray extends Array {\n\n    constructor(...items){\n        super(...items);\n        this.dict = {};\n        this.ks = [];\n        this.add = this.add.bind(this);\n        this.addArray = this.addArray.bind(this);\n    }\n\n    add(key, value){\n        if (!value){ value = key}\n        if (this.ks.indexOf(String(key)) >= 0){ return; }\n        this.dict[key] = value;\n        this.ks = Object.keys(this.dict);\n        this.push(value);\n    }\n\n    addArray(arr, keyFunc=x=>x){\n        for (var i = 0; i < arr.length; i++){\n            this.add(keyFunc(arr[i]), arr[i]);\n        }\n    }\n\n}","/** \n * Data API\n * \n * @module Data\n * @exports Data.author\n */\nimport resource from \"./resource\";\nimport footnote from \"./footnote\";\nimport publication from \"./publication\";\nimport author from \"./author\";\nimport uniqueArray from \"./utils/uniqueArray\";\nimport FussyArray from \"./utils/FussyArray\";\n\n/**\n * Search authors, publications and resources\n * @param {Object} options \n */\nfunction search(options) {\n\n    options = options || {};\n    const toggles = options.toggles || {};\n    const searchTerm = options.searchTerm || \"\";\n\n    // let added = [];\n    let results = new FussyArray();\n\n    function searchEntity(entity, field, api) {\n\n        if (toggles[entity] !== true) { return[]; }\n\n        return api.filter(x => {\n            // const tmpId = `entity.${x[\"id\"]}`;\n            const fofx = field(x);\n\n            // if (searchTerm.trim().length < 1){ return added.indexOf(tmpId) < 0 ; }\n\n            if (searchTerm.trim().length < 1){ return true ; }\n            if (!fofx) { return false }\n            const ret = fofx.toLowerCase().indexOf(searchTerm.toLowerCase()) >= 0;\n\n            if (ret){ //&& (added.indexOf(tmpId) < 0)){\n                // added = added.concat(tmpId);\n                // console.log(`Added ${tmpId}`)\n                return true;\n            }\n\n            return false;\n        })\n    }\n\n    results.addArray(searchEntity(\"author\", x=>x[\"name\"], author), x=>\"author.\" + x[\"id\"]);\n\n    // Search for publications by author\n    results.addArray(searchEntity(\"publication\", x=>author.byId(x[\"author.id\"]).name, publication), x=>\"publication.\" + x[\"id\"]);\n\n    results.addArray(searchEntity(\"resource\", x=>x[\"title\"], resource), x=>\"resource.\" + x[\"id\"])\n    results.addArray(searchEntity(\"publication\", x=>x[\"title\"], publication), x=>\"publication.\" + x[\"id\"])\n\n    //results = uniqueArray(results, x=>x[\"__type\"] + \".\" + x[\"id\"]);\n\n    return results;\n}\n\nexport default {\n    author,\n    footnote,\n    publication,\n    resource,\n    search\n}","import React from 'react';\nimport Data from \"../../Data\";\nimport { Link } from \"react-router-dom\";\nimport entity from \"../../Data/enums\";\nimport \"../style/main.scss\";\n\nclass PillTray extends React.Component {\n    render() {\n        return (\n            <div className={`pill-tray-wrapper ${this.props.title}`}>\n                <div className={`pill-tray-title`}>{this.props.items.length} {this.props.title}</div>\n\n                <div className=\"pill-tray\">\n                    {this.props.items.slice(0, 5).map((item, i) => {\n                        return (\n\n                            <div key={i} className=\"pill\">\n                                <Link to={item.link}>{item.title}</Link>\n                            </div>)\n                    })}\n                </div>\n            </div>\n\n        )\n    }\n}\n\nclass HeaderLink extends React.Component {\n\n    render() {\n        const term = this.props.type + \"s\";\n\n        if (this.props.type === entity.footnote) {\n            const f = this.props.item;\n            const resource = Data.resource.byId(this.props.item[\"resource.id\"]);\n            return (\n                <div className=\"HeaderLink\">\n                    <div>{resource.title} {f[\"start_time\"] ? `@${f[\"start_time\"]}` : (null)}</div>\n                </div>)\n        }\n\n        // Otherwise, it's pretty standard\n\n        return <Link\n            to={`/${term}/${this.props.item.id}`}\n        >{this.props.header}</Link>\n    }\n\n}\n\nclass ItemHeader extends React.Component {\n    render() {\n        return (\n            <div className=\"ItemHeader\">\n                <div className=\"badge result-type\">[{this.props.type}]</div>\n                {\" \"}<HeaderLink {...this.props}></HeaderLink>\n                {/* {\" \"}{this.props.type === \"resource\" ? <small>{this.props.item.id}</small> : (null)} */}\n            </div>\n        )\n    }\n}\n\nclass FootnoteFooter extends React.Component {\n\n    render() {\n        const publication = Data.publication.byId(this.props.item[\"publication.id\"]);\n\n        return (\n            <div>\n                {this.props.item.text}\n            </div>\n        )\n    }\n}\n\nclass AuthorFooter extends React.Component {\n    render() {\n        const publications = Data.publication.byAuthor(this.props.item.id);\n        const resources = Data.resource.citedByAuthor(this.props.item.id);\n        const footnotes = Data.footnote.byAuthor(this.props.item.id);\n        return (\n            <div>\n                <div>\n\n                {/* {resources.length} resources */}\n                <PillTray title=\"publications\" items={publications.map(x => { return { \"title\": x.title, \"link\": `/publications/${x.id}` } })} />\n                </div>\n                <div>\n                <PillTray title=\"resources cited\" items={resources.map(x => { return { \"title\": x.title, \"link\": `/resources/${x.id}` } })} />\n                </div>\n                {/* <div>\n                {footnotes.length} footnotes\n                </div> */}\n            </div>\n\n        );\n    }\n}\n\nclass ResourceFooter extends React.Component {\n    render() {\n\n        const footnotes = Data.footnote.byResource(this.props.item.id);\n        const publications = Data.publication.inFootnotes(footnotes)\n        return (\n            <div>\n                <div>\n                <PillTray title=\"publications\" items={publications.map(x => { return { \"title\": x.title, \"link\": `/publications/${x.id}` } })} />\n\n                {/* {footnotes.length > 1 ? `${footnotes.length} citations` : `${footnotes.length} citation`} */}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass PublicationFooter extends React.Component {\n    render() {\n        const publication = this.props.item;\n        const author = (Data.author.byId(this.props.item[\"author.id\"]) || {});\n        const resources = Data.resource.byPublication(this.props.item.id)\n        return (\n            <div>\n                <div>\n                    {author.name ? (<span><Link to={`/authors/${author.id}`}>{author.name}</Link></span>) : (null)}\n                    {publication.date ? (<span> // {publication.date}</span>) : (null)}\n                    {publication.publisher ? (<span> // {publication.publisher}</span>) : (null)}\n\n                </div>\n                <div>\n                    <PillTray title=\"resources cited\" items={resources.map(x => { return { \"title\": x.title, \"link\": `/resources/${x.id}` } })} />\n                </div>\n                <div>\n                    {this.props.item.date ? this.props.item.date + \", \" : (null)}\n                    {this.props.item.publisher ? this.props.item.publisher : (null)}\n                </div>\n\n            </div>\n\n        );\n    }\n}\n\nclass Footer extends React.Component {\n    render() {\n        if (this.props.type === \"author\") { return <AuthorFooter {...this.props}></AuthorFooter>; };\n        if (this.props.type === \"publication\") { return <PublicationFooter {...this.props}></PublicationFooter>; };\n        if (this.props.type === \"resource\") { return <ResourceFooter {...this.props}></ResourceFooter>; };\n        if (this.props.type === \"footnote\") { return <FootnoteFooter {...this.props}></FootnoteFooter>; };\n        return (<div className=\"Footer\"></div>)\n    }\n}\n\nexport default class ResultListItem extends React.Component {\n    render() {\n        return (\n            <section className={`ResultListItem ${this.props.type}`}>\n                <div className=\"left-end\"></div>\n                <div className=\"content-area\">\n                    <header>\n                        <ItemHeader {...this.props}></ItemHeader>\n                    </header>\n                    <footer>\n                        <Footer {...this.props}></Footer>\n                    </footer>\n                </div>\n                {\n                    this.props.type === \"footnote\" ? \n                    (<div className=\"button\"> <a target=\"_blank\" href={this.props.item.uri}>view</a></div>) \n                    : (null)\n                }\n            </section>\n        )\n    }\n}","import React from 'react';\nimport ResultListItem from \"./ResultListItem\";\n// import CSSTransitionGroup from 'react-transition-group/CSSTransitionGroup';\n\nimport \"./style/main.scss\";\n\nexport default class ResultList extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            itemCount:25,\n            step:10\n        }\n\n        this.loadMore = this.loadMore.bind(this);\n        this.trackScrolling = this.trackScrolling.bind(this);\n    }\n\n\n    decideToIncrement(distanceFromBottom){\n        if (this.props.items.length > this.state.itemCount\n            && distanceFromBottom < 100) {\n            this.loadMore();\n        }\n\n    }\n\n    trackScrolling() {\n\n        const scrollBottom = window.pageYOffset + window.innerHeight;\n        const distanceFromBottom = window.document.body.offsetHeight - scrollBottom;\n        this.decideToIncrement(distanceFromBottom);\n    }\n\n    componentDidMount() {\n        document.addEventListener(\"scroll\", this.trackScrolling);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener(\"scroll\", this.trackScrolling);\n    }\n\n\n    loadMore(){\n        const itemCount = this.state.itemCount + this.state.step;\n        this.setState({itemCount});\n    }\n\n    render() {\n        const items = this.props.items.sort(\n            (a,b)=>{ return a.__header > b.__header ? 1 : -1}\n            ).map((x, i) => {\n                return <ResultListItem \n                item={x}\n                key={i}\n                type={x.__type}\n                header={x.__header}\n                ></ResultListItem>\n        }).slice(0, this.state.itemCount);\n        return (\n            <div className=\"ResultList\">\n                {items}\n               {/* <CSSTransitionGroup\n               transitionName=\"dialog\"\n               transitionEnterTimeout={10}\n               transitionLeaveTimeout={10}>\n                   {items}\n               </CSSTransitionGroup> */}\n            </div>\n        )\n    }\n}","import React from 'react';\nimport Search from \"../Search\";\nimport ToggleButton from \"../ToggleButton\";\nimport ResultList from \"../ResultList\";\nimport Data from \"../Data\";\n\nexport default class HomePage extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            searchTerm: \"\",\n            toggles: {\n                resource: true,\n                publication: true,\n                author: true\n            }\n        }\n\n        this.toggleFactory = this.toggleFactory.bind(this);\n        this.setSearchTerm = this.setSearchTerm.bind(this);\n    }\n\n    setSearchTerm(term) {\n        this.setState({ searchTerm: term })\n    }\n\n    toggleFactory(label) {\n        return () => {\n\n            let newState = {\n                ...this.state,\n                toggles: { ...this.state.toggles }\n            }\n            newState.toggles[label] = !this.state.toggles[label];\n            this.setState(newState);\n        }\n    }\n\n    render() {\n        const items = Data.search(this.state);\n        return (<div className=\"HomePage\">\n            <div className=\"SearchArea\">\n                <Search\n                    handleChange={this.setSearchTerm}\n                ></Search>\n                <div className=\"toggle-box\">\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"resource\")}\n                        status={this.state.toggles.resource}\n                        label=\"Resources\"></ToggleButton>\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"publication\")}\n                        status={this.state.toggles.publication}\n                        label=\"Publications\"></ToggleButton>\n                    <ToggleButton\n                        handleClick={this.toggleFactory(\"author\")}\n                        status={this.state.toggles.author}\n                        label=\"Authors\"></ToggleButton>\n                </div>\n            </div>\n            <main>\n            <ResultList\n                items={items}></ResultList>\n            </main>\n\n        </div>)\n    }\n}","import React from 'react';\n// import ResultList from \"../ResultList\";\nimport Data from \"../Data\";\n// import FootnoteList from \"../FootnoteList\";\nimport ResultList from \"../ResultList\";\n\nexport default class PublicationPage extends React.Component {\n\n\n    render() {\n\n        const id = this.props.match.params.id,\n            item = Data.publication.byId(id),\n            author = Data.author.byId(item[\"author.id\"]),\n            footnotes = Data.footnote.byPublication(id);\n\n        return (\n            <div className=\"PublicationPage\">\n                <section>\n                    <h1>{item.title}</h1>\n                    <div>\n                        Author: {author.name}\n                    </div>\n                </section>\n\n\n                <section>\n                    {/* <FootnoteList footnotes={footnotes}></FootnoteList> */}\n                    <ResultList items={footnotes}></ResultList>\n                </section>\n            </div>\n\n        )\n    }\n}","import React from 'react';\nimport Data from \"../Data/index\";\nimport { Page404 } from  \"../ErrorPages/index\";\n\n// import PublicationList from \"../PublicationList\";\n\nimport ResultList from \"../ResultList\";\n\nexport default class ResourcePage extends React.Component {\n\n    render(){\n        const id = this.props.match.params.id;\n        const r = Data.resource.dictionary()[id];\n\n        if (!r){\n            return Page404(this.props.location.pathname);\n        }\n\n        //const footnotes = Data.footnote.filter(item => item[\"resource.id\"] === id);\n        // const footnotes = Data.footnote.byResource(id)\n        const publications = Data.publication.byResource(id)\n        \n        return (\n            <div className=\"ResourcePage\">\n                <h1>{r.title}</h1>\n                {/* <FootnoteList footnotes={footnotes} /> */}\n                {/* <PublicationList publications={publications} /> */}\n                <ResultList items={publications} />\n            </div>\n        );\n    }\n\n}\n","import React from 'react';\nexport default function (location) {\n    return (\n        <div>\n            <h1>No match found for '{location}'</h1>\n            <p>This is a 404</p>\n        </div>\n    );\n}","import React from 'react';\n// import ResultList from \"../ResultList\";\nimport Data from \"../Data\";\n// import PublicationList from \"../PublicationList\";\nimport ResultList from \"../ResultList\";\n\nexport default class AuthorPage extends React.Component {\n\n\n    render() {\n\n        const id = this.props.match.params.id,\n            item = Data.publication.byId(id);\n        //     author = Data.author.byId(item[\"author.id\"]),\n        //     footnotes = Data.footnote.byPublication(id);\n\n        const publications = Data.publication.byAuthor(id)\n\n        return (\n            <div className=\"PublicationPage\">\n                <section>\n                    <h1>{item.header}</h1>\n                    <div>\n                        {/* Author: {author.name} */}\n                    </div>\n                </section>\n\n\n                <section>\n                    <ResultList items={publications}></ResultList>\n                    {/* <PublicationList publications={publications}></PublicationList> */}\n                </section>\n            </div>\n\n        )\n    }\n}","import React from 'react';\nimport HomePage from \"./HomePage\";\nimport PublicationPage from \"./PublicationPage\";\n// import ResourceList from \"./ResourceList\";\n// import FootnoteList from \"./FootnoteList\";\n// import AuthorList from \"./AuthorList\";\n// import PublicationList from \"./PublicationList\";\n\nimport ResourcePage from \"./ResourcePage\";\nimport AuthorPage from \"./AuthorPage\";\n\nimport { HashRouter as Router, Route, Link } from \"react-router-dom\";\nimport { resource, footnote, author, publication } from \"./Data/index\";\n\nimport \"./App.scss\";\n\nfunction App() {\n\n\n  return (\n    <div className=\"App\">\n      <Router basename=\"/\">\n\n        <header>\n\n          <h1>\n            <Link to=\"/\">Citation Database</Link>\n          </h1>\n\n        </header>\n\n\n        <Route exact path=\"/\" render={() => <HomePage />} />\n        {/* <Route exact path=\"/resources\" render={() => <ResourceList resources={resource.all()} />} />\n        <Route exact path=\"/publications\" render={() => <PublicationList publications={publication.all()} />} />\n        <Route exact path=\"/authors\" render={() => <AuthorList authors={author.all()} />} />\n        <Route exact path=\"/footnotes\" render={() => <FootnoteList footnotes={footnote.all()} />} />\n        */}\n        <Route path=\"/publications/:id\" component={PublicationPage} />\n         <Route path=\"/resources/:id\" component={ResourcePage} />\n        <Route path=\"/authors/:id\" component={AuthorPage} /> \n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}